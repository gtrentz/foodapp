<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home Page</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Kumbh+Sans:wght@400;700&display=swap" rel="stylesheet">
</head>
  <header>
    <!-- Navbar Section-->
      <nav class="navbar">
        <div class="navbarContainer">
          <a href="index.html" id="navbarLogo"><img src='images/icon.png' height="75px">Food Finder</a>
          <!-- if can mobile ver 
          <div class="navbarToggle" id="mobileMenu">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </div> 
          -->
          <ul class="navbarMenu">
            <li class="navbarItem">
              <a href="index.html" class="navbarLinks">Home</a>
            </li>
            <li class="navbarItem">
              <a href="restaurants.html" class="navbarLinks">Restaurants</a>
            </li>
            <li class="navbarItem">
              <a href="recipes.html" class="navbarLinks">Recipes</a>
            </li>
            <li class="navbarItem">
              <a href="groups.html" class="navbarLinks">Groups</a>
            </li>
            <li class="navbarBtn">
              <a href="signup.html" class="button">Join</a>
            </li>
            <li class="navbarBtn">
              <a href="login.html" class="button">Login</a>
            </li>
          </ul>
        </div>
      </nav>
  </header>
    <section>
        <!-- Restaurant container -->
        <div class="restaurant-container">
            <script src="resturants.js" class="center"></script>
            <script src="https://use.fontawesome.com/fe459689b4.js"></script>
            <h4 id="restaurant-name"></h4>
            <p id = "restaurant-description"></p>
            <img id="restaurant-image" src="">
        </div>
        <!-- Buttons to switch between restaurants -->
        <div class="restaurant-switch-buttons">
            <button id="yay">yay</button>
            <button id="nay">nay</button>
        </div>
    </section>
    <script>
        // Sample restaurant data
        const restaurants = [
            {
                name: "Pullman Bar & Diner",
                imageSrc: "images/Pullman.png",
                description: "Refurbished diner offering traditional comfort fare with a twist, plus craft cocktails & beers.",
            },
            {
                name: "The Dandy Lion",
                imageSrc: "images/Dandy.jpeg",
                description: "Breakfast, sandwiches & salads served in a casual luncheonette featuring exposed-brick walls.",
            },
            {
                name: "Encounter Cafe",
                imageSrc: "images/Encounter.jpeg",
                description: "Cafe with only fresh ingredients",
            },
            {
                name: "The Webster",
                imageSrc: "images/webster.jpeg",
                description: "The upscale restaurant that features seasonal American dishes and a menu from owner Sam Gelman, made the list representing Iowa.",
            },
            {
                name: "Orchard Green",
                imageSrc: "images/Orchard Green.jpeg",
                description: "Seasonal American dishes with Mediterranean influences in a sleek, dark-wood dining room.",
            },
        ];

        let currentRestaurantIndex = 0;

        // Function to update the displayed restaurant
        function updateRestaurant() {
            const restaurant = restaurants[currentRestaurantIndex];
            document.getElementById("restaurant-name").textContent = restaurant.name;
            document.getElementById("restaurant-image").src = restaurant.imageSrc;
            document.getElementById("restaurant-description").textContent = restaurant.description;
        }

        // Initialize the first restaurant
        updateRestaurant();

        // Event listeners for next and previous buttons
        document.getElementById("nay").addEventListener("click", () => {
            currentRestaurantIndex = (currentRestaurantIndex + 1) % restaurants.length;
            updateRestaurant();
        });

        document.getElementById("yay").addEventListener("click", () => {
            currentRestaurantIndex = (currentRestaurantIndex - 1 + restaurants.length) % restaurants.length;
            updateRestaurant();
        });
    </script>

    <script>
document.getElementById("nay").addEventListener("click", () => {
    // Send a POST request to the Flask route with the user's action
    sendUserAction('nay');
});

document.getElementById("yay").addEventListener("click", () => {
    // Send a POST request to the Flask route with the user's action
    sendUserAction('yay');
});

function sendUserAction(action) {
    fetch('/update_groups', {
        method: 'POST',
        body: new URLSearchParams({ action }),
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
        },
    })
    .then(response => {
        if (response.ok) {
            // Handle a successful response if needed
            // You can update the client-side UI here if required
        } else {
            // Handle errors if needed
        }
    })
    .catch(error => {
        // Handle network errors if needed
    });
}
    </script>
</body>
</html>
